# Duckov-Mod---useQchangeweapon
《逃离鸭科夫》模组 按Q切换至最近武器
https://steamcommunity.com/sharedfiles/filedetails/?id=3597205849

## 模拟 CS 和 CF 的切枪习惯，按“Q键”切换至最近使用武器，如“ 大狙 →Q→ 刀 →Q→ 大狙 ”
目前支持 “主武器、副武器、近战武器、道具（如手雷、卡祖笛等）” 的相互切换

在进入游戏（藏身处）以后，按住“Z键+X键”再按C键（Z+X+C）从屏幕左上角弹出“Q键”绑定窗口，目前支持键盘按键绑定。

通过玩家自己的操作，强化笨重武器的灵活性，让切刀跑路、扔道具等操作更顺手。

已知问题：还有点卡手。开打前，建议先主动切换武器、试下Q键，防止在战斗中途卡手 awa

个人代码能力很菜，有问题不一定能解决，但欢迎大家反馈。

## 更新相关

2025.11.7：【测试】“Q键”新增自定义绑定 —— 在进入游戏（藏身处）以后，按住Z+X再按C（Z+X+C）在屏幕左上角弹出绑定小窗口，目前支持键盘按键绑定。

2025.11.2：模组重写，直接使用游戏内键位，无需改键，仅Q键被模组占用无法自由使用

2025.11.3：手感优化，解决“当玩家处于无法切换武器时按下Q键，让后续Q键卡手”的问题。
移除本mod中 大量无关紧要的Debug日志生成

2025.11.3：现已支持投掷物快捷切换，可以从武器与手雷之间快捷切换。有多颗相同投掷物时，可通过双击Q切换出下一颗（玉面手雷王？awa）

## 本人代码基础约等于0，命名不规范等坏习惯请勿学习

思路：订阅 CharacterInputControl 的 inputaction 回调判断玩家行为，记录数值，进行对调后，使用 CharacterMainControl.Main 控制玩家角色。

检测输入用的方法不算好，还将初始化扔进了update里。操作很粗暴，但有点乱拳打死老师傅的感觉。
